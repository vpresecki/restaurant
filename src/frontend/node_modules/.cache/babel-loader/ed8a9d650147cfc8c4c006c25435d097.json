{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\prese\\\\projects\\\\restaurant\\\\src\\\\frontend\\\\src\\\\context\\\\DataContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useReducer } from 'react';\nimport { useAuthContext } from '../hooks/useAuthContext';\nimport HttpRequest from '../utils/HttpRequest';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DataContext = /*#__PURE__*/createContext();\n\nconst dataReducer = (state, action) => {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n\nexport function DataProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const {\n    refresh_token\n  } = useAuthContext();\n  const [state, dispatch] = useReducer(dataReducer, {\n    posts: [],\n    menus: []\n  });\n\n  const fetchPosts = async () => {\n    try {\n      const posts = await HttpRequest.GET('/api/v1/restaurant/posts', refresh_token);\n      dispatch({\n        type: 'FETCH_POSTS',\n        payload: posts\n      });\n    } catch (error) {\n      dispatch({\n        type: 'FAILED_FETCH',\n        payload: 'Something went wrong, could not load posts.'\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: { ...state,\n      fetchPosts\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DataProvider, \"qY/CFT+JoCg3Ntu+DfGka6aNPFc=\", false, function () {\n  return [useAuthContext];\n});\n\n_c = DataProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataProvider\");","map":{"version":3,"sources":["C:/Users/prese/projects/restaurant/src/frontend/src/context/DataContext.js"],"names":["createContext","useReducer","useAuthContext","HttpRequest","DataContext","dataReducer","state","action","type","DataProvider","children","refresh_token","dispatch","posts","menus","fetchPosts","GET","payload","error"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,QAA0C,OAA1C;AACA,SAASC,cAAT,QAA+B,yBAA/B;AACA,OAAOC,WAAP,MAAwB,sBAAxB;;AACA,OAAO,MAAMC,WAAW,gBAAGJ,aAAa,EAAjC;;AAEP,MAAMK,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACrC,UAAQA,MAAM,CAACC,IAAf;AACE;AACE,aAAOF,KAAP;AAFJ;AAID,CALD;;AAOA,OAAO,SAASG,YAAT,OAAoC;AAAA;;AAAA,MAAd;AAAEC,IAAAA;AAAF,GAAc;AACzC,QAAM;AAAEC,IAAAA;AAAF,MAAoBT,cAAc,EAAxC;AACA,QAAM,CAACI,KAAD,EAAQM,QAAR,IAAoBX,UAAU,CAACI,WAAD,EAAc;AAChDQ,IAAAA,KAAK,EAAE,EADyC;AAEhDC,IAAAA,KAAK,EAAE;AAFyC,GAAd,CAApC;;AAKA,QAAMC,UAAU,GAAG,YAAY;AAC7B,QAAI;AACF,YAAMF,KAAK,GAAG,MAAMV,WAAW,CAACa,GAAZ,CAClB,0BADkB,EAElBL,aAFkB,CAApB;AAIAC,MAAAA,QAAQ,CAAC;AAAEJ,QAAAA,IAAI,EAAE,aAAR;AAAuBS,QAAAA,OAAO,EAAEJ;AAAhC,OAAD,CAAR;AACD,KAND,CAME,OAAOK,KAAP,EAAc;AACdN,MAAAA,QAAQ,CAAC;AACPJ,QAAAA,IAAI,EAAE,cADC;AAEPS,QAAAA,OAAO,EAAE;AAFF,OAAD,CAAR;AAID;AACF,GAbD;;AAeA,sBACE,QAAC,WAAD,CAAa,QAAb;AACE,IAAA,KAAK,EAAE,EACL,GAAGX,KADE;AAELS,MAAAA;AAFK,KADT;AAAA,cAMGL;AANH;AAAA;AAAA;AAAA;AAAA,UADF;AAUD;;GAhCeD,Y;UACYP,c;;;KADZO,Y","sourcesContent":["import { createContext, useReducer } from 'react';\r\nimport { useAuthContext } from '../hooks/useAuthContext';\r\nimport HttpRequest from '../utils/HttpRequest';\r\nexport const DataContext = createContext();\r\n\r\nconst dataReducer = (state, action) => {\r\n  switch (action.type) {\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport function DataProvider({ children }) {\r\n  const { refresh_token } = useAuthContext();\r\n  const [state, dispatch] = useReducer(dataReducer, {\r\n    posts: [],\r\n    menus: [],\r\n  });\r\n\r\n  const fetchPosts = async () => {\r\n    try {\r\n      const posts = await HttpRequest.GET(\r\n        '/api/v1/restaurant/posts',\r\n        refresh_token\r\n      );\r\n      dispatch({ type: 'FETCH_POSTS', payload: posts });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: 'FAILED_FETCH',\r\n        payload: 'Something went wrong, could not load posts.',\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DataContext.Provider\r\n      value={{\r\n        ...state,\r\n        fetchPosts,\r\n      }}\r\n    >\r\n      {children}\r\n    </DataContext.Provider>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}